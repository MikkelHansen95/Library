SHOW search_path;
SET search_path TO "Library";

DROP TABLE clienttype CASCADE;
DROP TABLE client CASCADE;
DROP TABLE book CASCADE;
DROP TABLE loans CASCADE;

create table clienttype (
	typeid serial PRIMARY KEY,
	name varchar(20),
	loantime int,
	loansize int
);

create table client (
    id serial PRIMARY KEY,
	typeid int REFERENCES clienttype,
	bname text,
	address character varying(35),
	cpr integer
);

create table book(
    bookid serial PRIMARY KEY,
    title varchar(99),
	author varchar(99),
	publisher varchar(99),
	isbn varchar(13) unique,
	location int REFERENCES client,
	publishYear date
);

create table loans (
	bookid int REFERENCES book,
	clientid int REFERENCES client,
	loanID serial PRIMARY KEY,
	startDate date,
	endDate date,
	overdue boolean, 
	activeLoan boolean
);
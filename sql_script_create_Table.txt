create table libraryschema.book(
    bookid serial PRIMARY KEY,
    title varchar(99),
	author varchar(99),
	publisher varchar(99),
	isbn character varying(13),
	numberofcopies int,
	amountloaned int CHECK (numberofcopies >= amountloaned),
	publishYear date
);

create table libraryschema.clienttype (
	typeid serial PRIMARY KEY,
	name varchar(30),
	loanlength int,
	loancapacity int
);

create table libraryschema.client (
    id serial PRIMARY KEY,
	typeid int REFERENCES libraryschema.clienttype,
	bname text,
	address varchar(99),
	cpr varchar(11),
	loancount int
);

create table libraryschema.loans (
	loanID serial PRIMARY KEY,
	bookid serial REFERENCES book,
	clientid serial REFERENCES libraryschema.client,
	startDate date check (startDate < endDate),
	endDate date check (endDate > startDate),
	overdue boolean, 
	activeLoan boolean
);